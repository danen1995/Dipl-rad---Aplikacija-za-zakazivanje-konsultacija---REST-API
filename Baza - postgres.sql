
  CREATE TABLE DOGADJAJ 
   (	ID_KALENDARA BIGINT, 
	ID_DOGADJAJA BIGINT, 
	DATUM_I_VREME_POCETKA TIMESTAMP(0), 
	DATUM_I_VREME_ZAVRSETKA TIMESTAMP(0), 
	MESTO_ODRZAVANJA VARCHAR(50), 
	ID_TIPA_DOGADJAJA BIGINT, 
	NIVO VARCHAR(20), 
	ULOGA VARCHAR(50), 
	KANDIDAT VARCHAR(50), 
	TEMA VARCHAR(50), 
	KAPACITET DECIMAL, 
	BROJ_ZAKAZANIH DECIMAL, 
	ULOGA_NASTAVE VARCHAR(20), 
	ID_PREDMETA BIGINT
   ) 
   ;
  CREATE TABLE KALENDAR 
   (	ID_KALENDARA BIGINT, 
	ID_SKOLSKE_GODINE BIGINT, 
	JMBG_NASTAVNIKA VARCHAR(20)
   ) 
   ;
  CREATE TABLE KORISNICKI_NALOG 
   (	ID_KOR_NAL BIGINT, 
	KORISNICKO_IME VARCHAR(30), 
	LOZINKA VARCHAR(30), 
	JMBG_NASTAVNIKA VARCHAR(13), 
	BROJ_INDEKSA_STUDENTA VARCHAR(20)
   ) 
   ;
  CREATE TABLE NASTAVNIK 
   (	JMBG VARCHAR(13), 
	IME VARCHAR(20), 
	PREZIME VARCHAR(20), 
	EMAIL VARCHAR(100), 
	BROJ_TELEFONA VARCHAR(20), 
	KABINET VARCHAR(20), 
	SLIKA VARCHAR(200)
   ) 
   ;
  CREATE TABLE POKRIVENOST_NASTAVE 
   (	JMBG_NASTAVNIKA VARCHAR(13), 
	ID_PREDMETA BIGINT, 
	ULOGA VARCHAR(20), 
	ID_SKOLSKE_GODINE BIGINT
   ) 
   ;
  CREATE TABLE PREDMET 
   (	ID_PREDMETA BIGINT, 
	NAZIV VARCHAR(100), 
	ESPB_BODOVI DECIMAL, 
	GODINA_STUDIJA VARCHAR(20)
   ) 
   ;
  CREATE TABLE PRILOG 
   (	ID_PRILOGA BIGINT, 
	NAZIV VARCHAR(20), 
	ID_DOGADJAJA BIGINT, 
	ID_KALENDARA BIGINT, 
	BROJ_INDEKSA_STUDENTA VARCHAR(20), 
	LOKACIJA BYTEA
   ) 
 ;
  CREATE TABLE SKOLSKA_GODINA 
   (	ID_SKOLSKE_GODINE BIGINT, 
	SKOLSKA_GODINA VARCHAR(20), 
	SEMESTAR VARCHAR(20)
   ) 
   ;
  CREATE TABLE STUDENT 
   (	BROJ_INDEKSA VARCHAR(10), 
	IME VARCHAR(20), 
	PREZIME VARCHAR(20), 
	GODINA_UPISA SMALLINT, 
	SMER VARCHAR(100), 
	BROJ_TELEFONA VARCHAR(20), 
	EMAIL VARCHAR(100)
   ) 
   ;
  CREATE TABLE STUDENT_KONSULTACIJE 
   (	ID_KALENDARA BIGINT, 
	ID_DOGADJAJA BIGINT, 
	BROJ_INDEKSA_STUDENTA VARCHAR(20), 
	STATUS VARCHAR(200), 
	NASLOV VARCHAR(200), 
	OPIS VARCHAR(1000)
   ) 
   ;
  CREATE TABLE TIP_DOGADJAJA 
   (	ID_TIPA_DOGADJAJA BIGINT, 
	NAZIV_TIPA_DOGADJAJA VARCHAR(100)
   ) 
   ;
   CREATE SEQUENCE  DOGADJAJ_SEQ  MINVALUE 1 /* MAXVALUE 9999999999999999999999999999 */ INCREMENT BY 1 START WITH 281 CACHE 20  NO CYCLE ;
   CREATE SEQUENCE  KALENDAR_SEQ  MINVALUE 1 /* MAXVALUE 9999999999999999999999999999 */ INCREMENT BY 1 START WITH 41 CACHE 20  NO CYCLE ;
   CREATE SEQUENCE  KORISNICKI_NALOG_SEQ  MINVALUE 1 /* MAXVALUE 9999999999999999999999999999 */ INCREMENT BY 1 START WITH 241 CACHE 20  NO CYCLE ;
   CREATE SEQUENCE  NASTAVNIK_SEQ  MINVALUE 1 /* MAXVALUE 9999999999999999999999999999 */ INCREMENT BY 1 START WITH 1 CACHE 20  NO CYCLE ;
   CREATE SEQUENCE  PREDMET_SEQ  MINVALUE 1 /* MAXVALUE 9999999999999999999999999999 */ INCREMENT BY 1 START WITH 21 CACHE 20  NO CYCLE ;
   CREATE SEQUENCE  PRILOG_SEQ  MINVALUE 1 /* MAXVALUE 9999999999999999999999999999 */ INCREMENT BY 1 START WITH 81 CACHE 20  NO CYCLE ;
   CREATE SEQUENCE  PRILOG_SEQ1  MINVALUE 1 /* MAXVALUE 9999999999999999999999999999 */ INCREMENT BY 1 START WITH 41 CACHE 20  NO CYCLE ;
   CREATE SEQUENCE  SKOLSKA_GODINA_SEQ  MINVALUE 1 /* MAXVALUE 9999999999999999999999999999 */ INCREMENT BY 1 START WITH 1 CACHE 20  NO CYCLE ;
   CREATE SEQUENCE  TIP_DOGADJAJA_SEQ  MINVALUE 1 /* MAXVALUE 9999999999999999999999999999 */ INCREMENT BY 1 START WITH 21 CACHE 20  NO CYCLE ;
-- INSERTING into DOGADJAJ
/* SET DEFINE OFF; */
Insert into DOGADJAJ (ID_KALENDARA,ID_DOGADJAJA,DATUM_I_VREME_POCETKA,DATUM_I_VREME_ZAVRSETKA,MESTO_ODRZAVANJA,ID_TIPA_DOGADJAJA,NIVO,ULOGA,KANDIDAT,TEMA,KAPACITET,BROJ_ZAKAZANIH,ULOGA_NASTAVE,ID_PREDMETA) values (1,182,'2018-Sep-06'::timestamp,'2018-Sep-06'::timestamp,'304',2,null,null,null,null,20,0,null,null);
Insert into DOGADJAJ (ID_KALENDARA,ID_DOGADJAJA,DATUM_I_VREME_POCETKA,DATUM_I_VREME_ZAVRSETKA,MESTO_ODRZAVANJA,ID_TIPA_DOGADJAJA,NIVO,ULOGA,KANDIDAT,TEMA,KAPACITET,BROJ_ZAKAZANIH,ULOGA_NASTAVE,ID_PREDMETA) values (1,221,'2018-Sep-04'::timestamp,'2018-Sep-04'::timestamp,'12',2,null,null,null,null,12,0,null,null);
Insert into DOGADJAJ (ID_KALENDARA,ID_DOGADJAJA,DATUM_I_VREME_POCETKA,DATUM_I_VREME_ZAVRSETKA,MESTO_ODRZAVANJA,ID_TIPA_DOGADJAJA,NIVO,ULOGA,KANDIDAT,TEMA,KAPACITET,BROJ_ZAKAZANIH,ULOGA_NASTAVE,ID_PREDMETA) values (1,244,'2018-Oct-17'::timestamp,'2018-Oct-17'::timestamp,'304',2,null,null,null,null,10,0,null,null);
Insert into DOGADJAJ (ID_KALENDARA,ID_DOGADJAJA,DATUM_I_VREME_POCETKA,DATUM_I_VREME_ZAVRSETKA,MESTO_ODRZAVANJA,ID_TIPA_DOGADJAJA,NIVO,ULOGA,KANDIDAT,TEMA,KAPACITET,BROJ_ZAKAZANIH,ULOGA_NASTAVE,ID_PREDMETA) values (1,269,'2018-Oct-11'::timestamp,'2018-Oct-11'::timestamp,'304',2,null,null,null,null,10,0,null,null);
Insert into DOGADJAJ (ID_KALENDARA,ID_DOGADJAJA,DATUM_I_VREME_POCETKA,DATUM_I_VREME_ZAVRSETKA,MESTO_ODRZAVANJA,ID_TIPA_DOGADJAJA,NIVO,ULOGA,KANDIDAT,TEMA,KAPACITET,BROJ_ZAKAZANIH,ULOGA_NASTAVE,ID_PREDMETA) values (1,228,'2018-Sep-20'::timestamp,'2018-Sep-20'::timestamp,'kabinet 304',2,null,null,null,null,8,0,null,null);
Insert into DOGADJAJ (ID_KALENDARA,ID_DOGADJAJA,DATUM_I_VREME_POCETKA,DATUM_I_VREME_ZAVRSETKA,MESTO_ODRZAVANJA,ID_TIPA_DOGADJAJA,NIVO,ULOGA,KANDIDAT,TEMA,KAPACITET,BROJ_ZAKAZANIH,ULOGA_NASTAVE,ID_PREDMETA) values (1,267,'2018-Oct-26'::timestamp,'2018-Oct-26'::timestamp,'304',2,null,null,null,null,5,0,null,null);
Insert into DOGADJAJ (ID_KALENDARA,ID_DOGADJAJA,DATUM_I_VREME_POCETKA,DATUM_I_VREME_ZAVRSETKA,MESTO_ODRZAVANJA,ID_TIPA_DOGADJAJA,NIVO,ULOGA,KANDIDAT,TEMA,KAPACITET,BROJ_ZAKAZANIH,ULOGA_NASTAVE,ID_PREDMETA) values (1,245,'2018-Oct-24'::timestamp,'2018-Oct-24'::timestamp,'304',2,null,null,null,null,10,0,null,null);
Insert into DOGADJAJ (ID_KALENDARA,ID_DOGADJAJA,DATUM_I_VREME_POCETKA,DATUM_I_VREME_ZAVRSETKA,MESTO_ODRZAVANJA,ID_TIPA_DOGADJAJA,NIVO,ULOGA,KANDIDAT,TEMA,KAPACITET,BROJ_ZAKAZANIH,ULOGA_NASTAVE,ID_PREDMETA) values (1,196,'2018-Sep-25'::timestamp,'2018-Sep-25'::timestamp,'11',2,null,null,null,null,12,0,null,null);
Insert into DOGADJAJ (ID_KALENDARA,ID_DOGADJAJA,DATUM_I_VREME_POCETKA,DATUM_I_VREME_ZAVRSETKA,MESTO_ODRZAVANJA,ID_TIPA_DOGADJAJA,NIVO,ULOGA,KANDIDAT,TEMA,KAPACITET,BROJ_ZAKAZANIH,ULOGA_NASTAVE,ID_PREDMETA) values (1,202,'2018-Sep-29'::timestamp,'2018-Sep-29'::timestamp,'304',2,null,null,null,null,12,0,null,null);
Insert into DOGADJAJ (ID_KALENDARA,ID_DOGADJAJA,DATUM_I_VREME_POCETKA,DATUM_I_VREME_ZAVRSETKA,MESTO_ODRZAVANJA,ID_TIPA_DOGADJAJA,NIVO,ULOGA,KANDIDAT,TEMA,KAPACITET,BROJ_ZAKAZANIH,ULOGA_NASTAVE,ID_PREDMETA) values (1,230,'2018-Sep-22'::timestamp,'2018-Sep-22'::timestamp,'304',2,null,null,null,null,null,0,null,null);
Insert into DOGADJAJ (ID_KALENDARA,ID_DOGADJAJA,DATUM_I_VREME_POCETKA,DATUM_I_VREME_ZAVRSETKA,MESTO_ODRZAVANJA,ID_TIPA_DOGADJAJA,NIVO,ULOGA,KANDIDAT,TEMA,KAPACITET,BROJ_ZAKAZANIH,ULOGA_NASTAVE,ID_PREDMETA) values (1,268,'2018-Oct-04'::timestamp,'2018-Oct-04'::timestamp,'304',2,null,null,null,null,10,0,null,null);
Insert into DOGADJAJ (ID_KALENDARA,ID_DOGADJAJA,DATUM_I_VREME_POCETKA,DATUM_I_VREME_ZAVRSETKA,MESTO_ODRZAVANJA,ID_TIPA_DOGADJAJA,NIVO,ULOGA,KANDIDAT,TEMA,KAPACITET,BROJ_ZAKAZANIH,ULOGA_NASTAVE,ID_PREDMETA) values (1,226,'2018-Sep-10'::timestamp,'2018-Sep-10'::timestamp,'as',2,null,null,null,null,10,0,null,null);
Insert into DOGADJAJ (ID_KALENDARA,ID_DOGADJAJA,DATUM_I_VREME_POCETKA,DATUM_I_VREME_ZAVRSETKA,MESTO_ODRZAVANJA,ID_TIPA_DOGADJAJA,NIVO,ULOGA,KANDIDAT,TEMA,KAPACITET,BROJ_ZAKAZANIH,ULOGA_NASTAVE,ID_PREDMETA) values (1,261,'2018-Oct-05'::timestamp,'2018-Oct-05'::timestamp,'402',2,null,null,null,null,12,0,null,null);
Insert into DOGADJAJ (ID_KALENDARA,ID_DOGADJAJA,DATUM_I_VREME_POCETKA,DATUM_I_VREME_ZAVRSETKA,MESTO_ODRZAVANJA,ID_TIPA_DOGADJAJA,NIVO,ULOGA,KANDIDAT,TEMA,KAPACITET,BROJ_ZAKAZANIH,ULOGA_NASTAVE,ID_PREDMETA) values (1,263,'2018-Oct-08'::timestamp,'2018-Oct-08'::timestamp,'404',2,null,null,null,null,10,0,null,null);
Insert into DOGADJAJ (ID_KALENDARA,ID_DOGADJAJA,DATUM_I_VREME_POCETKA,DATUM_I_VREME_ZAVRSETKA,MESTO_ODRZAVANJA,ID_TIPA_DOGADJAJA,NIVO,ULOGA,KANDIDAT,TEMA,KAPACITET,BROJ_ZAKAZANIH,ULOGA_NASTAVE,ID_PREDMETA) values (1,264,'2018-Oct-15'::timestamp,'2018-Oct-15'::timestamp,'404',2,null,null,null,null,10,0,null,null);
Insert into DOGADJAJ (ID_KALENDARA,ID_DOGADJAJA,DATUM_I_VREME_POCETKA,DATUM_I_VREME_ZAVRSETKA,MESTO_ODRZAVANJA,ID_TIPA_DOGADJAJA,NIVO,ULOGA,KANDIDAT,TEMA,KAPACITET,BROJ_ZAKAZANIH,ULOGA_NASTAVE,ID_PREDMETA) values (1,265,'2018-Oct-22'::timestamp,'2018-Oct-22'::timestamp,'404',2,null,null,null,null,10,0,null,null);
Insert into DOGADJAJ (ID_KALENDARA,ID_DOGADJAJA,DATUM_I_VREME_POCETKA,DATUM_I_VREME_ZAVRSETKA,MESTO_ODRZAVANJA,ID_TIPA_DOGADJAJA,NIVO,ULOGA,KANDIDAT,TEMA,KAPACITET,BROJ_ZAKAZANIH,ULOGA_NASTAVE,ID_PREDMETA) values (1,266,'2018-Oct-29'::timestamp,'2018-Oct-29'::timestamp,'404',2,null,null,null,null,10,0,null,null);
Insert into DOGADJAJ (ID_KALENDARA,ID_DOGADJAJA,DATUM_I_VREME_POCETKA,DATUM_I_VREME_ZAVRSETKA,MESTO_ODRZAVANJA,ID_TIPA_DOGADJAJA,NIVO,ULOGA,KANDIDAT,TEMA,KAPACITET,BROJ_ZAKAZANIH,ULOGA_NASTAVE,ID_PREDMETA) values (1,270,'2018-Oct-18'::timestamp,'2018-Oct-18'::timestamp,'304',2,null,null,null,null,10,0,null,null);
Insert into DOGADJAJ (ID_KALENDARA,ID_DOGADJAJA,DATUM_I_VREME_POCETKA,DATUM_I_VREME_ZAVRSETKA,MESTO_ODRZAVANJA,ID_TIPA_DOGADJAJA,NIVO,ULOGA,KANDIDAT,TEMA,KAPACITET,BROJ_ZAKAZANIH,ULOGA_NASTAVE,ID_PREDMETA) values (1,271,'2018-Oct-25'::timestamp,'2018-Oct-25'::timestamp,'304',2,null,null,null,null,10,0,null,null);
-- INSERTING into KALENDAR
/* SET DEFINE OFF; */
Insert into KALENDAR (ID_KALENDARA,ID_SKOLSKE_GODINE,JMBG_NASTAVNIKA) values (1,1,'2222222222222');
Insert into KALENDAR (ID_KALENDARA,ID_SKOLSKE_GODINE,JMBG_NASTAVNIKA) values (2,1,'1225652125495');
Insert into KALENDAR (ID_KALENDARA,ID_SKOLSKE_GODINE,JMBG_NASTAVNIKA) values (3,1,'3333333333333');
Insert into KALENDAR (ID_KALENDARA,ID_SKOLSKE_GODINE,JMBG_NASTAVNIKA) values (21,2,'2222222222222');
-- INSERTING into KORISNICKI_NALOG
/* SET DEFINE OFF; */
Insert into KORISNICKI_NALOG (ID_KOR_NAL,KORISNICKO_IME,LOZINKA,JMBG_NASTAVNIKA,BROJ_INDEKSA_STUDENTA) values (85,'dane','dane',null,'2014/0044');
Insert into KORISNICKI_NALOG (ID_KOR_NAL,KORISNICKO_IME,LOZINKA,JMBG_NASTAVNIKA,BROJ_INDEKSA_STUDENTA) values (145,'ivana','ivana',null,'2014/0333');
Insert into KORISNICKI_NALOG (ID_KOR_NAL,KORISNICKO_IME,LOZINKA,JMBG_NASTAVNIKA,BROJ_INDEKSA_STUDENTA) values (65,'dule','dule','1225652125495',null);
Insert into KORISNICKI_NALOG (ID_KOR_NAL,KORISNICKO_IME,LOZINKA,JMBG_NASTAVNIKA,BROJ_INDEKSA_STUDENTA) values (86,'ilija','ilija','3333333333333',null);
Insert into KORISNICKI_NALOG (ID_KOR_NAL,KORISNICKO_IME,LOZINKA,JMBG_NASTAVNIKA,BROJ_INDEKSA_STUDENTA) values (124,'milan','milan',null,'2014/0041');
Insert into KORISNICKI_NALOG (ID_KOR_NAL,KORISNICKO_IME,LOZINKA,JMBG_NASTAVNIKA,BROJ_INDEKSA_STUDENTA) values (41,'milos','milos','2222222222222',null);
Insert into KORISNICKI_NALOG (ID_KOR_NAL,KORISNICKO_IME,LOZINKA,JMBG_NASTAVNIKA,BROJ_INDEKSA_STUDENTA) values (143,'slavko','n.slavko',null,'2014/0103');
Insert into KORISNICKI_NALOG (ID_KOR_NAL,KORISNICKO_IME,LOZINKA,JMBG_NASTAVNIKA,BROJ_INDEKSA_STUDENTA) values (148,'Milica ','milica',null,'2014/0037');
Insert into KORISNICKI_NALOG (ID_KOR_NAL,KORISNICKO_IME,LOZINKA,JMBG_NASTAVNIKA,BROJ_INDEKSA_STUDENTA) values (169,'djole','djole',null,'2014/0043');
Insert into KORISNICKI_NALOG (ID_KOR_NAL,KORISNICKO_IME,LOZINKA,JMBG_NASTAVNIKA,BROJ_INDEKSA_STUDENTA) values (164,'djol','djol',null,'2014/0045');
Insert into KORISNICKI_NALOG (ID_KOR_NAL,KORISNICKO_IME,LOZINKA,JMBG_NASTAVNIKA,BROJ_INDEKSA_STUDENTA) values (183,'milivoje','milan',null,'2014/0042');
-- INSERTING into NASTAVNIK
/* SET DEFINE OFF; */
Insert into NASTAVNIK (JMBG,IME,PREZIME,EMAIL,BROJ_TELEFONA,KABINET,SLIKA) values ('1225652125495','Dusan','Savic','dsavic@fon.bg.ac.rs','0641215569','304','https://vignette.wikia.nocookie.net/fantendo/images/6/6e/Small-mario.png');
Insert into NASTAVNIK (JMBG,IME,PREZIME,EMAIL,BROJ_TELEFONA,KABINET,SLIKA) values ('2222222222222','Milos','Milic','mmilic@gmail.com','0615665655','B006','https://vignette.wikia.nocookie.net/fantendo/images/6/6e/Small-mario.png');
Insert into NASTAVNIK (JMBG,IME,PREZIME,EMAIL,BROJ_TELEFONA,KABINET,SLIKA) values ('3333333333333','Ilija','Antonic','iantonic@gmail.com','0612233365','C103','https://vignette.wikia.nocookie.net/fantendo/images/6/6e/Small-mario.png');
Insert into NASTAVNIK (JMBG,IME,PREZIME,EMAIL,BROJ_TELEFONA,KABINET,SLIKA) values ('4444444444444','Sasa','Lazarevic','sslazarevic@fon.bg.ac.rs','0611223666','B108',null);
Insert into NASTAVNIK (JMBG,IME,PREZIME,EMAIL,BROJ_TELEFONA,KABINET,SLIKA) values ('5555555555555','Vojislav','Stanojevic','vstanojevic@fon.bg.ac.rs','064122236','104',null);
Insert into NASTAVNIK (JMBG,IME,PREZIME,EMAIL,BROJ_TELEFONA,KABINET,SLIKA) values ('6666666666666','Sinisa','Vlajic','ssvlajic@fon.bg.ac.rs','06447745541','105',null);
-- INSERTING into POKRIVENOST_NASTAVE
/* SET DEFINE OFF; */
Insert into POKRIVENOST_NASTAVE (JMBG_NASTAVNIKA,ID_PREDMETA,ULOGA,ID_SKOLSKE_GODINE) values ('1225652125495',1,'profesor',1);
Insert into POKRIVENOST_NASTAVE (JMBG_NASTAVNIKA,ID_PREDMETA,ULOGA,ID_SKOLSKE_GODINE) values ('2222222222222',1,'asistent',1);
Insert into POKRIVENOST_NASTAVE (JMBG_NASTAVNIKA,ID_PREDMETA,ULOGA,ID_SKOLSKE_GODINE) values ('3333333333333',1,'asistent',1);
-- INSERTING into PREDMET
/* SET DEFINE OFF; */
Insert into PREDMET (ID_PREDMETA,NAZIV,ESPB_BODOVI,GODINA_STUDIJA) values (1,'Softverski paterni',4,'4');
-- INSERTING into PRILOG
/* SET DEFINE OFF; */
-- INSERTING into SKOLSKA_GODINA
/* SET DEFINE OFF; */
Insert into SKOLSKA_GODINA (ID_SKOLSKE_GODINE,SKOLSKA_GODINA,SEMESTAR) values (1,'2018/19','zimski');
Insert into SKOLSKA_GODINA (ID_SKOLSKE_GODINE,SKOLSKA_GODINA,SEMESTAR) values (2,'2018/19','letnji');
-- INSERTING into STUDENT
/* SET DEFINE OFF; */
Insert into STUDENT (BROJ_INDEKSA,IME,PREZIME,GODINA_UPISA,SMER,BROJ_TELEFONA,EMAIL) values ('2014/0044','Dane','Nikolic',2014,'ISIT','066291195','danen1995@gmail.com');
Insert into STUDENT (BROJ_INDEKSA,IME,PREZIME,GODINA_UPISA,SMER,BROJ_TELEFONA,EMAIL) values ('2014/0041','Milan','Milanovic',2014,'ISIT','0658775195','milan@gmail.com');
Insert into STUDENT (BROJ_INDEKSA,IME,PREZIME,GODINA_UPISA,SMER,BROJ_TELEFONA,EMAIL) values ('2014/0045','Dordje','Milisevic',2014,'MGMT','066222554','djole@gmail.com');
Insert into STUDENT (BROJ_INDEKSA,IME,PREZIME,GODINA_UPISA,SMER,BROJ_TELEFONA,EMAIL) values ('2014/0042','Marko','Antic',2014,'ISIT','0605950413','markoantic@gmail.com');
Insert into STUDENT (BROJ_INDEKSA,IME,PREZIME,GODINA_UPISA,SMER,BROJ_TELEFONA,EMAIL) values ('2014/0043','Zorana','Ikonic',2014,'ISIT','0611222333','zorana@gmail.com');
Insert into STUDENT (BROJ_INDEKSA,IME,PREZIME,GODINA_UPISA,SMER,BROJ_TELEFONA,EMAIL) values ('2014/0103','Slavko','Nikolic',2014,'MGMT','0617007605','sslavko@gmail.com');
Insert into STUDENT (BROJ_INDEKSA,IME,PREZIME,GODINA_UPISA,SMER,BROJ_TELEFONA,EMAIL) values ('2014/0333','?????','???????',2014,'????','0617007607','?????');
Insert into STUDENT (BROJ_INDEKSA,IME,PREZIME,GODINA_UPISA,SMER,BROJ_TELEFONA,EMAIL) values ('2014/0037','Milica','Kostic',2014,'pravni','0616768039','milica.kostic.pi@gmail.com');
-- INSERTING into STUDENT_KONSULTACIJE
/* SET DEFINE OFF; */
-- INSERTING into TIP_DOGADJAJA
/* SET DEFINE OFF; */
Insert into TIP_DOGADJAJA (ID_TIPA_DOGADJAJA,NAZIV_TIPA_DOGADJAJA) values (1,'Clanstvo komisije');
Insert into TIP_DOGADJAJA (ID_TIPA_DOGADJAJA,NAZIV_TIPA_DOGADJAJA) values (2,'Konsultacije');
Insert into TIP_DOGADJAJA (ID_TIPA_DOGADJAJA,NAZIV_TIPA_DOGADJAJA) values (3,'Nastava');
  

--  D... SQLINES DEMO ***
  CREATE OR REPLACE FUNCTION A_func() RETURNS TRIGGER AS $$  
begin  
   if tg_op = 'insert' then 
      if NEW.ID_DOGADJAJA is null then 
         select DOGADJAJ_SEQ.nextval into NEW.ID_DOGADJAJA; 
      end if; 
   end if; 
end;
$$ LANGUAGE plpgsql;
CREATE OR REPLACE TRIGGER A 
   before insert on DOGADJAJ 
   for each row
EXECUTE FUNCTION A_func();
/* ALTER TRIGGER A ENABLE; */
  CREATE OR REPLACE FUNCTION DOGADJAJ_TRG_func() RETURNS TRIGGER AS $$  
BEGIN
  <<COLUMN_SEQUENCES>>
  BEGIN
    IF TG_OP = 'INSERT' AND NEW.ID_DOGADJAJA IS NULL THEN
      SELECT DOGADJAJ_SEQ.NEXTVAL INTO NEW.ID_DOGADJAJA ;
    END IF;
  END COLUMN_SEQUENCES;
END;
$$ LANGUAGE plpgsql;
CREATE OR REPLACE TRIGGER DOGADJAJ_TRG 
BEFORE INSERT ON DOGADJAJ 
FOR EACH ROW
EXECUTE FUNCTION DOGADJAJ_TRG_func();
/* ALTER TRIGGER DOGADJAJ_TRG ENABLE; */
  CREATE OR REPLACE FUNCTION DOGADJAJ_TRG1_func() RETURNS TRIGGER AS $$  
BEGIN
  <<COLUMN_SEQUENCES>>
  BEGIN
    NULL;
  END COLUMN_SEQUENCES;
END;
$$ LANGUAGE plpgsql;
CREATE OR REPLACE TRIGGER DOGADJAJ_TRG1 
BEFORE INSERT ON DOGADJAJ 
FOR EACH ROW
EXECUTE FUNCTION DOGADJAJ_TRG1_func();
/* ALTER TRIGGER DOGADJAJ_TRG1 ENABLE; */
  CREATE OR REPLACE FUNCTION DOGADJAJ_TRG2_func() RETURNS TRIGGER AS $$  
BEGIN
  <<COLUMN_SEQUENCES>>
  BEGIN
    NULL;
  END COLUMN_SEQUENCES;
END;
$$ LANGUAGE plpgsql;
CREATE OR REPLACE TRIGGER DOGADJAJ_TRG2 
BEFORE INSERT ON DOGADJAJ 
FOR EACH ROW
EXECUTE FUNCTION DOGADJAJ_TRG2_func();
/* ALTER TRIGGER DOGADJAJ_TRG2 ENABLE; */
  CREATE OR REPLACE FUNCTION KALENDAR_TRG_func() RETURNS TRIGGER AS $$  
BEGIN
  <<COLUMN_SEQUENCES>>
  BEGIN
    IF TG_OP = 'INSERT' AND NEW.ID_KALENDARA IS NULL THEN
      SELECT KALENDAR_SEQ.NEXTVAL INTO NEW.ID_KALENDARA ;
    END IF;
  END COLUMN_SEQUENCES;
END;
$$ LANGUAGE plpgsql;
CREATE OR REPLACE TRIGGER KALENDAR_TRG 
BEFORE INSERT ON KALENDAR 
FOR EACH ROW
EXECUTE FUNCTION KALENDAR_TRG_func();
/* ALTER TRIGGER KALENDAR_TRG ENABLE; */
  CREATE OR REPLACE FUNCTION KORISNICKI_NALOG_TRG_func() RETURNS TRIGGER AS $$  
BEGIN
  <<COLUMN_SEQUENCES>>
  BEGIN
    NULL;
  END COLUMN_SEQUENCES;
END;
$$ LANGUAGE plpgsql;
CREATE OR REPLACE TRIGGER KORISNICKI_NALOG_TRG 
BEFORE INSERT ON KORISNICKI_NALOG 
FOR EACH ROW
EXECUTE FUNCTION KORISNICKI_NALOG_TRG_func();
/* ALTER TRIGGER KORISNICKI_NALOG_TRG ENABLE; */
  CREATE OR REPLACE FUNCTION KORISNICKI_NALOG_TRG1_func() RETURNS TRIGGER AS $$  
BEGIN
  <<COLUMN_SEQUENCES>>
  BEGIN
    IF TG_OP = 'INSERT' AND NEW.ID_KOR_NAL IS NULL THEN
      SELECT KORISNICKI_NALOG_SEQ.NEXTVAL INTO NEW.ID_KOR_NAL ;
    END IF;
  END COLUMN_SEQUENCES;
END;
$$ LANGUAGE plpgsql;
CREATE OR REPLACE TRIGGER KORISNICKI_NALOG_TRG1 
BEFORE INSERT ON KORISNICKI_NALOG 
FOR EACH ROW
EXECUTE FUNCTION KORISNICKI_NALOG_TRG1_func();
/* ALTER TRIGGER KORISNICKI_NALOG_TRG1 ENABLE; */
  CREATE OR REPLACE FUNCTION NASTAVNIK_TRG_func() RETURNS TRIGGER AS $$  
BEGIN
  <<COLUMN_SEQUENCES>>
  BEGIN
    NULL;
  END COLUMN_SEQUENCES;
END;
$$ LANGUAGE plpgsql;
CREATE OR REPLACE TRIGGER NASTAVNIK_TRG 
BEFORE INSERT ON NASTAVNIK 
FOR EACH ROW
EXECUTE FUNCTION NASTAVNIK_TRG_func();
/* ALTER TRIGGER NASTAVNIK_TRG ENABLE; */
  CREATE OR REPLACE FUNCTION POKRIVENOST_NASTAVE_TRG_func() RETURNS TRIGGER AS $$  
BEGIN
  <<COLUMN_SEQUENCES>>
  BEGIN
    NULL;
  END COLUMN_SEQUENCES;
END;
$$ LANGUAGE plpgsql;
CREATE OR REPLACE TRIGGER POKRIVENOST_NASTAVE_TRG 
BEFORE INSERT ON POKRIVENOST_NASTAVE 
FOR EACH ROW
EXECUTE FUNCTION POKRIVENOST_NASTAVE_TRG_func();
/* ALTER TRIGGER POKRIVENOST_NASTAVE_TRG ENABLE; */
  CREATE OR REPLACE FUNCTION PREDMET_TRG_func() RETURNS TRIGGER AS $$  
BEGIN
  <<COLUMN_SEQUENCES>>
  BEGIN
    IF TG_OP = 'INSERT' AND NEW.ID_PREDMETA IS NULL THEN
      SELECT PREDMET_SEQ.NEXTVAL INTO NEW.ID_PREDMETA ;
    END IF;
  END COLUMN_SEQUENCES;
END;
$$ LANGUAGE plpgsql;
CREATE OR REPLACE TRIGGER PREDMET_TRG 
BEFORE INSERT ON PREDMET 
FOR EACH ROW
EXECUTE FUNCTION PREDMET_TRG_func();
/* ALTER TRIGGER PREDMET_TRG ENABLE; */
  CREATE OR REPLACE FUNCTION PRILOG_TRG_func() RETURNS TRIGGER AS $$  
BEGIN
  <<COLUMN_SEQUENCES>>
  BEGIN
    IF TG_OP = 'INSERT' AND NEW.ID_PRILOGA IS NULL THEN
      SELECT PRILOG_SEQ1.NEXTVAL INTO NEW.ID_PRILOGA ;
    END IF;
  END COLUMN_SEQUENCES;
END;
$$ LANGUAGE plpgsql;
CREATE OR REPLACE TRIGGER PRILOG_TRG 
BEFORE INSERT ON PRILOG 
FOR EACH ROW
EXECUTE FUNCTION PRILOG_TRG_func();
/* ALTER TRIGGER PRILOG_TRG ENABLE; */
  CREATE OR REPLACE FUNCTION PRILOG_TRG1_func() RETURNS TRIGGER AS $$  
BEGIN
  <<COLUMN_SEQUENCES>>
  BEGIN
    NULL;
  END COLUMN_SEQUENCES;
END;
$$ LANGUAGE plpgsql;
CREATE OR REPLACE TRIGGER PRILOG_TRG1 
BEFORE INSERT ON PRILOG 
FOR EACH ROW
EXECUTE FUNCTION PRILOG_TRG1_func();
/* ALTER TRIGGER PRILOG_TRG1 ENABLE; */
  CREATE OR REPLACE FUNCTION SKOLSKA_GODINA_TRG_func() RETURNS TRIGGER AS $$  
BEGIN
  <<COLUMN_SEQUENCES>>
  BEGIN
    IF TG_OP = 'INSERT' AND NEW.ID_SKOLSKE_GODINE IS NULL THEN
      SELECT SKOLSKA_GODINA_SEQ.NEXTVAL INTO NEW.ID_SKOLSKE_GODINE ;
    END IF;
  END COLUMN_SEQUENCES;
END;
$$ LANGUAGE plpgsql;
CREATE OR REPLACE TRIGGER SKOLSKA_GODINA_TRG 
BEFORE INSERT ON SKOLSKA_GODINA 
FOR EACH ROW
EXECUTE FUNCTION SKOLSKA_GODINA_TRG_func();
/* ALTER TRIGGER SKOLSKA_GODINA_TRG ENABLE; */
  CREATE OR REPLACE FUNCTION TIP_DOGADJAJA_TRG_func() RETURNS TRIGGER AS $$  
BEGIN
  <<COLUMN_SEQUENCES>>
  BEGIN
    IF TG_OP = 'INSERT' AND NEW.ID_TIPA_DOGADJAJA IS NULL THEN
      SELECT TIP_DOGADJAJA_SEQ.NEXTVAL INTO NEW.ID_TIPA_DOGADJAJA ;
    END IF;
  END COLUMN_SEQUENCES;
END;
$$ LANGUAGE plpgsql;
CREATE OR REPLACE TRIGGER TIP_DOGADJAJA_TRG 
BEFORE INSERT ON TIP_DOGADJAJA 
FOR EACH ROW
EXECUTE FUNCTION TIP_DOGADJAJA_TRG_func();








  ALTER TABLE STUDENT
ALTER COLUMN BROJ_INDEKSA SET NOT NULL;
  ALTER TABLE STUDENT ADD CONSTRAINT STUDENT_PK PRIMARY KEY (BROJ_INDEKSA)
 ;
  ALTER TABLE PREDMET
ALTER COLUMN ID_PREDMETA SET NOT NULL;
  ALTER TABLE PREDMET ADD CONSTRAINT PREDMET_PK PRIMARY KEY (ID_PREDMETA)
 ;
  ALTER TABLE TIP_DOGADJAJA
ALTER COLUMN ID_TIPA_DOGADJAJA SET NOT NULL;
  ALTER TABLE TIP_DOGADJAJA ADD CONSTRAINT TIP_DOGADJAJA_PK PRIMARY KEY (ID_TIPA_DOGADJAJA)
 ;
  ALTER TABLE SKOLSKA_GODINA
ALTER COLUMN ID_SKOLSKE_GODINE SET NOT NULL;
  ALTER TABLE SKOLSKA_GODINA ADD CONSTRAINT SKOLSKA_GODINA_PK PRIMARY KEY (ID_SKOLSKE_GODINE)
 ;
  ALTER TABLE STUDENT_KONSULTACIJE
ALTER COLUMN ID_KALENDARA SET NOT NULL;
  ALTER TABLE STUDENT_KONSULTACIJE
ALTER COLUMN ID_DOGADJAJA SET NOT NULL;
  ALTER TABLE STUDENT_KONSULTACIJE
ALTER COLUMN BROJ_INDEKSA_STUDENTA SET NOT NULL;
  ALTER TABLE STUDENT_KONSULTACIJE ADD CONSTRAINT STUDENT_KONSULTACIJE_PK PRIMARY KEY (ID_KALENDARA, ID_DOGADJAJA, BROJ_INDEKSA_STUDENTA)
 ;
  ALTER TABLE KORISNICKI_NALOG ADD CONSTRAINT KORISNICKI_NALOG_UK3 UNIQUE (BROJ_INDEKSA_STUDENTA)
 ;
  ALTER TABLE KORISNICKI_NALOG ADD CONSTRAINT KORISNICKI_NALOG_UK2 UNIQUE (JMBG_NASTAVNIKA)
 ;
  ALTER TABLE KORISNICKI_NALOG
ALTER COLUMN KORISNICKO_IME SET NOT NULL;
  ALTER TABLE KORISNICKI_NALOG ADD CONSTRAINT KORISNICKI_NALOG_UK1 UNIQUE (KORISNICKO_IME)
 ;
  ALTER TABLE KORISNICKI_NALOG
ALTER COLUMN ID_KOR_NAL SET NOT NULL;
  ALTER TABLE KORISNICKI_NALOG ADD CONSTRAINT KORISNICKI_NALOG_PK PRIMARY KEY (ID_KOR_NAL)
 ;
  ALTER TABLE POKRIVENOST_NASTAVE
ALTER COLUMN JMBG_NASTAVNIKA SET NOT NULL;
  ALTER TABLE POKRIVENOST_NASTAVE
ALTER COLUMN ID_PREDMETA SET NOT NULL;
  ALTER TABLE POKRIVENOST_NASTAVE ADD CONSTRAINT POKRIVENOST_PK PRIMARY KEY (JMBG_NASTAVNIKA, ID_PREDMETA)
 ;
  ALTER TABLE NASTAVNIK
ALTER COLUMN JMBG SET NOT NULL;
  ALTER TABLE NASTAVNIK ADD CONSTRAINT NASTAVNIK_PK PRIMARY KEY (JMBG)
 ;
  ALTER TABLE PRILOG
ALTER COLUMN ID_PRILOGA SET NOT NULL;
  ALTER TABLE PRILOG ADD CONSTRAINT PRILOG_PK PRIMARY KEY (ID_PRILOGA)
 ;
  ALTER TABLE DOGADJAJ
ALTER COLUMN ID_KALENDARA SET NOT NULL;
  ALTER TABLE DOGADJAJ
ALTER COLUMN ID_DOGADJAJA SET NOT NULL;
  ALTER TABLE DOGADJAJ ADD CONSTRAINT DOGADJAJ_PK PRIMARY KEY (ID_KALENDARA, ID_DOGADJAJA)
 ;
  ALTER TABLE KALENDAR
ALTER COLUMN ID_KALENDARA SET NOT NULL;
  ALTER TABLE KALENDAR ADD CONSTRAINT KALENDAR_PK PRIMARY KEY (ID_KALENDARA)
 ;
ALTER TABLE DOGADJAJ ADD CONSTRAINT DOGADJAJ_FK1 FOREIGN KEY (ID_TIPA_DOGADJAJA)
	  REFERENCES TIP_DOGADJAJA (ID_TIPA_DOGADJAJA);
  ALTER TABLE DOGADJAJ ADD CONSTRAINT DOGADJAJ_FK2 FOREIGN KEY (ID_KALENDARA)
	  REFERENCES KALENDAR (ID_KALENDARA);
  ALTER TABLE DOGADJAJ ADD CONSTRAINT DOGADJAJ_FK3 FOREIGN KEY (ID_PREDMETA)
	  REFERENCES PREDMET (ID_PREDMETA);

  ALTER TABLE KALENDAR ADD CONSTRAINT KALENDAR_FK1 FOREIGN KEY (ID_SKOLSKE_GODINE)
	  REFERENCES SKOLSKA_GODINA (ID_SKOLSKE_GODINE);
  ALTER TABLE KALENDAR ADD CONSTRAINT KALENDAR_FK2 FOREIGN KEY (JMBG_NASTAVNIKA)
	  REFERENCES NASTAVNIK (JMBG);

  ALTER TABLE KORISNICKI_NALOG ADD CONSTRAINT KORISNICKI_NALOG_FK1 FOREIGN KEY (JMBG_NASTAVNIKA)
	  REFERENCES NASTAVNIK (JMBG);
  ALTER TABLE KORISNICKI_NALOG ADD CONSTRAINT KORISNICKI_NALOG_FK2 FOREIGN KEY (BROJ_INDEKSA_STUDENTA)
	  REFERENCES STUDENT (BROJ_INDEKSA);

  ALTER TABLE POKRIVENOST_NASTAVE ADD CONSTRAINT POKRIVENOST_FK1 FOREIGN KEY (JMBG_NASTAVNIKA)
	  REFERENCES NASTAVNIK (JMBG);
  ALTER TABLE POKRIVENOST_NASTAVE ADD CONSTRAINT POKRIVENOST_FK2 FOREIGN KEY (ID_PREDMETA)
	  REFERENCES PREDMET (ID_PREDMETA);
  ALTER TABLE POKRIVENOST_NASTAVE ADD CONSTRAINT POKRIVENOST_FK3 FOREIGN KEY (ID_SKOLSKE_GODINE)
	  REFERENCES SKOLSKA_GODINA (ID_SKOLSKE_GODINE);

  ALTER TABLE PRILOG ADD CONSTRAINT PRILOG_FK1 FOREIGN KEY (ID_KALENDARA, ID_DOGADJAJA, BROJ_INDEKSA_STUDENTA)
	  REFERENCES STUDENT_KONSULTACIJE (ID_KALENDARA, ID_DOGADJAJA, BROJ_INDEKSA_STUDENTA) ON DELETE CASCADE;

  ALTER TABLE STUDENT_KONSULTACIJE ADD CONSTRAINT STUDENT_KONSULTACIJE_FK1 FOREIGN KEY (ID_KALENDARA, ID_DOGADJAJA)
	  REFERENCES DOGADJAJ (ID_KALENDARA, ID_DOGADJAJA);
  ALTER TABLE STUDENT_KONSULTACIJE ADD CONSTRAINT STUDENT_KONSULTACIJE_FK2 FOREIGN KEY (BROJ_INDEKSA_STUDENTA)
	  REFERENCES STUDENT (BROJ_INDEKSA) ;